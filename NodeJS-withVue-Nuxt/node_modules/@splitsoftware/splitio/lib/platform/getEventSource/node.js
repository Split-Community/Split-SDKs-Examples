"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getEventSource = exports.__restore = exports.__setEventSource = void 0;
var __isCustom = false;
var __eventSource = undefined;
// This function is only exposed for testing purposes.
function __setEventSource(eventSource) {
    __eventSource = eventSource;
    __isCustom = true;
}
exports.__setEventSource = __setEventSource;
function __restore() {
    __isCustom = false;
}
exports.__restore = __restore;
function getEventSource() {
    // returns EventSource at `eventsource` package. If not available, return global EventSource or undefined
    try {
        return __isCustom ? __eventSource : require('eventsource');
    }
    catch (error) {
        return typeof EventSource === 'function' ? EventSource : undefined;
    }
}
exports.getEventSource = getEventSource;
